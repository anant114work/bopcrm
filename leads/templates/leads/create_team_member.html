{% extends 'leads/base_unified.html' %}

{% block title %}Create Team Member - CRM{% endblock %}

{% block page_title %}âž• Create Team Member{% endblock %}

{% block content %}
<div class="card">
    <h3 style="margin-bottom: 20px;">Add New Team Member</h3>
    
    <form method="post" style="max-width: 600px;">
        {% csrf_token %}
        
        <div class="form-group">
            <label>Full Name *</label>
            <input type="text" name="name" required style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
        </div>
        
        <div class="form-group">
            <label>Email *</label>
            <input type="email" name="email" required style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
        </div>
        
        <div class="form-group">
            <label>Phone *</label>
            <input type="tel" name="phone" required style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
        </div>
        
        <div class="form-group">
            <label>Role *</label>
            <select name="role" required style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
                <option value="">Select Role...</option>
                {% for role_code, role_name in role_choices %}
                <option value="{{ role_code }}">{{ role_name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label>Reports To (Optional)</label>
            <select name="parent_id" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
                <option value="">Select Manager...</option>
                <optgroup label="Business Heads">
                    {% for head in business_heads %}
                    <option value="{{ head.id }}">{{ head.name }} - {{ head.role }}</option>
                    {% endfor %}
                </optgroup>
                <optgroup label="All Members">
                    {% for member in all_members %}
                    <option value="{{ member.id }}">{{ member.name }} - {{ member.role }}</option>
                    {% endfor %}
                </optgroup>
            </select>
        </div>
        
        <div class="d-flex">
            <button type="submit" class="btn btn-primary">Create Team Member</button>
            <a href="/team/hierarchy/" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}